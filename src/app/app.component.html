<div class="image" #image [class.zoom]="zoomIn">
  <app-preview *ngIf="init" [day]="days[0] | date: 'yyyyMMdd'" [full]="init" [zoom]="zoomIn"></app-preview>
  <div class="caption" *ngIf="imageMeta">
    <section>
      <p>{{imageMeta.day | date: 'yyyy&middot;MM&middot;dd'}}</p>
      <h6>Day</h6>
    </section>
    <section *ngIf="imageMeta.camera">
      <p>{{imageMeta.camera}}</p>
      <h6>Camera</h6>
    </section>
    <section *ngIf="imageMeta.focalLength">
      <p>{{imageMeta.focalLength}}mm</p>
      <h6>Focal Length</h6>
    </section>
    <section *ngIf="imageMeta.aperture > 0">
      <p>&fnof;/{{imageMeta.aperture}}</p>
      <h6>Aperture</h6>
    </section>
    <section *ngIf="imageMeta.shutterSpeed">
      <p>{{imageMeta.shutterSpeed}}</p>
      <h6>Shutter Speed</h6>
    </section>
    <section *ngIf="imageMeta.iso">
      <p>{{imageMeta.iso}}</p>
      <h6>ISO</h6>
    </section>
  </div>
</div>

<div class="image image-loader" [class.zoom]="zoomIn" [class.fade-in]="!loading" [class.fade-out]="loading"
  (click)="zoomIn = !zoomIn"></div>

<div class="index" #index>
  <div class="header">
    <h1><img src="assets/images/365.jpg" alt="365"></h1>
    <p>A picture a day photo project</p>
    <div class="warning" *ngIf="error">
      <p>There's something wrong with the dates. Project starts on:<br>{{firstDay | date: 'yyyy&middot;MM&middot;dd'}}
      </p>
      <p>and ends on:<br>{{lastDay | date: 'yyyy&middot;MM&middot;dd'}}</p>
    </div>
  </div>


  <div class="list" *ngIf="!error">
    <app-preview *ngFor="let day of days; let i = index" class="preview" [day]="day | date: 'yyyyMMdd'"
      (file)="openImage($event)">
    </app-preview>
  </div>
  <div class="action" *ngIf="currentIndex < allDays && !error">
    <button class="load-more" type="button" (click)="loadPreviews()">Load more</button>
  </div>



  <div class="footer">
    <p><a href="/">365 photo project</a> by <a href="https://lakto.design">lakto.design</a> &copy;
      {{lastDay | date: 'yyyy'}}</p>
  </div>
</div>
